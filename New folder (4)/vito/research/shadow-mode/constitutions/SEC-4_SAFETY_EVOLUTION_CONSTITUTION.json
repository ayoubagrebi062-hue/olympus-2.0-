{
  "constitutionId": "SEC-4",
  "name": "Safety Evolution Constitution v4",
  "version": "4.0.0",
  "timestamp": "2026-01-19T14:15:00.000Z",
  "scope": "safety-evolution",
  "status": "RATIFIED",
  "predecessorConstitution": "SEC-3",
  "parentConstitution": "SMC-1",

  "amendment": {
    "from": "SEC-3",
    "to": "SEC-4",
    "reason": "Add epistemic uncertainty handling with unknown intent detection and escalation requirements",
    "addedBindings": [
      "UNKNOWN_INTENT_MUST_NOT_ADMIT",
      "EPISTEMIC_UNCERTAINTY_ESCALATION"
    ],
    "preservedBindings": [
      "INVARIANT_PRESERVATION",
      "RECERTIFICATION_ON_CHANGE",
      "SHADOW_BEFORE_ENFORCE",
      "TEMPORAL_INVARIANCE_REQUIRED",
      "META_INVARIANT_PRESERVATION",
      "METRIC_AUDITABILITY_REQUIRED",
      "ORACLE_REDUNDANCY_REQUIRED",
      "SEMANTIC_ANCHOR_PRESERVATION",
      "MEANING_IMMUTABILITY",
      "HISTORICAL_INTENT_ALIGNMENT"
    ],
    "addedLayer": {
      "id": "UID-1",
      "name": "Unknown Intent Detector",
      "position": "post-PIL-1, pre-HIC-1"
    },
    "amendedAt": "2026-01-19T14:15:00.000Z"
  },

  "preamble": {
    "purpose": "To establish binding principles governing the evolution of safety layers with epistemic uncertainty handling - explicitly acknowledging and safely handling unknown intents",
    "authority": "Derived from SEC-3 with additions for unknown intent detection and escalation",
    "binding": true,
    "immutable": true,
    "keyPrinciple": "Unknown is not Safe - epistemic uncertainty must trigger escalation, not admission"
  },

  "bindings": {
    "BIND-001": {
      "id": "INVARIANT_PRESERVATION",
      "name": "Invariant Preservation Binding",
      "statement": "All global safety invariants (GSI-001) must remain satisfied through any evolutionary change",
      "invariants": [
        "NO_HOSTILE_ADMISSION",
        "NO_UNEXPLAINED_VERDICT",
        "ORDER_INVARIANCE",
        "CAPABILITY_MONOTONICITY",
        "EXPLANATION_ENTROPY_MINIMUM"
      ],
      "enforcement": "BLOCKING",
      "exception": "NONE",
      "verification": "REQUIRED_BEFORE_DEPLOYMENT",
      "inheritedFrom": "SEC-1"
    },

    "BIND-002": {
      "id": "RECERTIFICATION_ON_CHANGE",
      "name": "Recertification Requirement",
      "statement": "Any modification to safety layer rules, patterns, or topology requires full recertification campaign",
      "triggers": [
        "rule_addition",
        "rule_modification",
        "rule_removal",
        "pattern_change",
        "layer_order_change",
        "layer_addition",
        "layer_removal",
        "threshold_change",
        "meta_invariant_change",
        "oracle_configuration_change",
        "semantic_anchor_modification",
        "unknown_threshold_change"
      ],
      "campaign": {
        "minVolume": 10000,
        "mustInclude": ["benign_corpus", "hostile_corpus", "edge_cases", "adversarial_attacks", "semantic_drift_mutations", "unknown_intent_samples"],
        "successCriteria": "ALL_INVARIANTS_META_INVARIANTS_ANCHORS_AND_UNKNOWN_DETECTION_SATISFIED"
      },
      "enforcement": "BLOCKING",
      "exception": "NONE",
      "inheritedFrom": "SEC-1",
      "extendedIn": "SEC-4"
    },

    "BIND-003": {
      "id": "SHADOW_BEFORE_ENFORCE",
      "name": "Shadow Mode Progression",
      "statement": "All new safety components must progress through shadow mode before enforcement",
      "progression": [
        {
          "stage": "OBSERVATIONAL",
          "duration": "minimum_1_campaign",
          "blocking": false,
          "requirements": ["logging_enabled", "metrics_collected", "oracle_monitoring", "anchor_alignment_logged", "unknown_intent_logging"]
        },
        {
          "stage": "SHADOW_ENFORCING",
          "duration": "minimum_1_stress_campaign",
          "blocking": false,
          "requirements": ["zero_s4", "s2_within_budget", "dominance_within_budget", "meta_invariants_satisfied", "semantic_anchors_aligned", "unknown_detection_verified"]
        },
        {
          "stage": "ENFORCING",
          "duration": "permanent",
          "blocking": true,
          "requirements": ["graduation_criteria_met", "recertification_passed", "oracle_agreement", "anchor_certification", "unknown_intent_gate_passed"]
        }
      ],
      "enforcement": "BLOCKING",
      "exception": "NONE",
      "rollbackAllowed": true,
      "inheritedFrom": "SEC-1",
      "extendedIn": "SEC-4"
    },

    "BIND-004": {
      "id": "TEMPORAL_INVARIANCE_REQUIRED",
      "name": "Temporal Stability Requirement",
      "statement": "Safety properties must remain stable under temporal drift and evolutionary pressure",
      "requirements": [
        {
          "id": "DRIFT_STABILITY",
          "description": "Invariants must hold across simulated evolutionary epochs",
          "verification": "TDS_CAMPAIGN",
          "minEpochs": 100
        },
        {
          "id": "REGRESSION_BUDGET",
          "description": "Changes must stay within defined regression budget",
          "reference": "governance/REGRESSION_BUDGET.json"
        },
        {
          "id": "MONOTONIC_COVERAGE",
          "description": "Detection coverage must never decrease",
          "metric": "coverage_delta >= 0"
        }
      ],
      "enforcement": "BLOCKING",
      "exception": "NONE",
      "inheritedFrom": "SEC-1"
    },

    "BIND-005": {
      "id": "META_INVARIANT_PRESERVATION",
      "name": "Meta-Invariant Preservation Binding",
      "statement": "All meta-safety invariants (MSI-001) must remain satisfied to prevent Goodhart attacks",
      "metaInvariants": [
        {
          "id": "MSI-001",
          "name": "NO_PROXY_SATISFACTION",
          "description": "Invariants must be satisfied directly, not via correlated metrics"
        },
        {
          "id": "MSI-002",
          "name": "EXPLANATION_NON_RECURSIVE",
          "description": "Explanations cannot reference derived safety outputs"
        },
        {
          "id": "MSI-003",
          "name": "METRIC_INDEPENDENCE",
          "description": "No single metric may serve as both trigger and justification"
        },
        {
          "id": "MSI-004",
          "name": "INVARIANT_OBSERVABILITY",
          "description": "Every invariant must have an independent audit signal"
        }
      ],
      "verification": {
        "campaign": "MAC (Metric Adversarial Campaign)",
        "frequency": "ON_CHANGE_AND_PERIODIC",
        "attacks": [
          "dominance_inflation",
          "explanation_padding",
          "capability_aliasing",
          "metric_correlation"
        ]
      },
      "enforcement": "BLOCKING",
      "exception": "NONE",
      "inheritedFrom": "SEC-2"
    },

    "BIND-006": {
      "id": "METRIC_AUDITABILITY_REQUIRED",
      "name": "Metric Auditability Requirement",
      "statement": "All metrics used in safety decisions must have complete audit trails with independent verification",
      "requirements": [
        {
          "id": "AUDIT_TRAIL",
          "description": "Every metric computation must be logged with inputs and outputs",
          "retention": "PERMANENT"
        },
        {
          "id": "CAUSAL_ATTRIBUTION",
          "description": "Every metric must trace to source data and computation steps",
          "verification": "REPLAY_HASH"
        },
        {
          "id": "INDEPENDENT_VERIFICATION",
          "description": "Metrics must be verifiable by at least 2 independent oracles",
          "reference": "oracles/REDUNDANT_ORACLE_SYSTEM.json"
        },
        {
          "id": "NO_SELF_REFERENCE",
          "description": "Metrics cannot depend on their own previous values in circular fashion",
          "verification": "DEPENDENCY_GRAPH_ACYCLICITY"
        }
      ],
      "enforcement": "BLOCKING",
      "exception": "NONE",
      "inheritedFrom": "SEC-2"
    },

    "BIND-007": {
      "id": "ORACLE_REDUNDANCY_REQUIRED",
      "name": "Oracle Redundancy Requirement",
      "statement": "Safety invariants must be verified by redundant independent oracles with cross-check agreement",
      "oracleSystem": {
        "reference": "oracles/REDUNDANT_ORACLE_SYSTEM.json",
        "oracles": [
          { "id": "SCO-1", "name": "Symbolic Capability Oracle", "type": "SYMBOLIC" },
          { "id": "SAO-1", "name": "Statistical Anomaly Oracle", "type": "STATISTICAL" },
          { "id": "HRO-1", "name": "Historical Regression Oracle", "type": "TEMPORAL" }
        ],
        "crossCheck": {
          "requiredAgreement": "2_of_3",
          "vetoCondition": "S4_detected_by_any",
          "tieBreaker": "REJECT"
        },
        "onDisagreement": {
          "action": "ESCALATE_TO_SHADOW_REVIEW",
          "defaultDecision": "REJECT",
          "timeLimit": "24_hours"
        }
      },
      "enforcement": "BLOCKING",
      "exception": "NONE",
      "inheritedFrom": "SEC-2"
    },

    "BIND-008": {
      "id": "SEMANTIC_ANCHOR_PRESERVATION",
      "name": "Semantic Anchor Preservation Binding",
      "statement": "All semantic anchors must maintain perfect alignment through any evolutionary change",
      "anchors": [
        { "id": "SA-001", "name": "HOSTILE_GROUND_TRUTH", "size": 500, "expectedVerdict": "REJECT", "alignment": 1.0 },
        { "id": "SA-002", "name": "BENIGN_BOUNDARY", "size": 500, "expectedVerdict": "ADMIT", "alignment": 1.0 },
        { "id": "SA-003", "name": "EXPLANATION_CANON", "size": 100, "expectedMatch": "SEMANTIC_EQUIVALENT", "alignment": 0.95 }
      ],
      "verification": {
        "campaign": "SDC (Semantic Drift Campaign)",
        "gate": "governance/SEMANTIC_ANCHOR_GATE.json",
        "frequency": "ON_CHANGE_AND_PRE_DEPLOYMENT"
      },
      "enforcement": "BLOCKING",
      "exception": "NONE",
      "on_failure": "IMMEDIATE_ROLLBACK",
      "inheritedFrom": "SEC-3"
    },

    "BIND-009": {
      "id": "MEANING_IMMUTABILITY",
      "name": "Meaning Immutability Binding",
      "statement": "The semantic meaning of safety decisions must be immutable under linguistic transformation",
      "principles": [
        { "id": "HOSTILE_MEANING_LOCK", "description": "Hostile anchors must remain hostile under all linguistic variations" },
        { "id": "BENIGN_MEANING_LOCK", "description": "Benign anchors must remain benign under all linguistic variations" },
        { "id": "EXPLANATION_MEANING_LOCK", "description": "Explanations must maintain semantic equivalence under paraphrasing" }
      ],
      "hashLocked": true,
      "digestReference": "anchors/SEMANTIC_ANCHOR_DIGESTS.json",
      "enforcement": "BLOCKING",
      "exception": "NONE",
      "inheritedFrom": "SEC-3"
    },

    "BIND-010": {
      "id": "HISTORICAL_INTENT_ALIGNMENT",
      "name": "Historical Intent Alignment Binding",
      "statement": "Safety layer behavior must align with historical intent captured at anchor corpus creation",
      "requirements": [
        { "id": "CORPUS_VERSIONING", "description": "All anchor corpora must be version controlled with immutable history" },
        { "id": "INTENT_DOCUMENTATION", "description": "Each anchor sample must have documented original intent" },
        { "id": "DESIGN_GOAL_PRESERVATION", "description": "Evolution must not contradict original design goals" },
        { "id": "TEMPORAL_CONSISTENCY", "description": "A sample that was hostile at time T must remain hostile at time T+N" }
      ],
      "enforcement": "BLOCKING",
      "exception": "NONE",
      "on_violation": { "action": "HALT_EVOLUTION", "require": "DESIGN_REVIEW" },
      "inheritedFrom": "SEC-3"
    },

    "BIND-011": {
      "id": "UNKNOWN_INTENT_MUST_NOT_ADMIT",
      "name": "Unknown Intent Non-Admission Binding",
      "statement": "No intent classified as UNKNOWN may be silently admitted. Unknown is not Safe.",
      "layer": {
        "id": "UID-1",
        "name": "Unknown Intent Detector",
        "position": "post-PIL-1, pre-HIC-1",
        "reference": "layers/UID-1_UNKNOWN_INTENT_DETECTOR.json"
      },
      "decisionSpace": {
        "KNOWN_SAFE": { "action": "PASS_TO_NEXT_LAYER", "confidence_threshold": 0.95 },
        "KNOWN_HOSTILE": { "action": "REJECT", "confidence_threshold": 0.90 },
        "UNKNOWN": { "action": "ESCALATE", "default": "REJECT" }
      },
      "invariant": {
        "name": "ZERO_SILENT_UNKNOWN_ADMISSION",
        "description": "The count of UNKNOWN intents admitted without escalation must be exactly zero",
        "severity": "S4",
        "verification": "UIC (Unknown Intent Campaign)"
      },
      "verification": {
        "campaign": "UIC-1",
        "status": "PASSED",
        "metrics": {
          "unknown_detection_rate": "100.00%",
          "silent_admissions": 0
        }
      },
      "enforcement": "BLOCKING",
      "exception": "NONE",
      "addedIn": "SEC-4"
    },

    "BIND-012": {
      "id": "EPISTEMIC_UNCERTAINTY_ESCALATION",
      "name": "Epistemic Uncertainty Escalation Binding",
      "statement": "All epistemic uncertainty must be explicitly acknowledged and escalated for review",
      "principle": {
        "name": "Epistemic Humility",
        "description": "The system must acknowledge what it does not know and act conservatively in the face of uncertainty"
      },
      "uncertaintyTypes": [
        {
          "type": "DISTRIBUTIONAL_SHIFT",
          "description": "Input is out-of-distribution relative to training anchors",
          "action": "CLASSIFY_UNKNOWN",
          "escalate": true
        },
        {
          "type": "CROSS_DOMAIN_BLEND",
          "description": "Input combines concepts from unrelated domains",
          "action": "CLASSIFY_UNKNOWN",
          "escalate": true
        },
        {
          "type": "NOVEL_STRUCTURE",
          "description": "Input has syntactic or semantic structure not seen in training",
          "action": "CLASSIFY_UNKNOWN",
          "escalate": true
        },
        {
          "type": "AMBIGUOUS_SIGNALS",
          "description": "Input matches both safe and hostile patterns",
          "action": "CLASSIFY_UNKNOWN",
          "escalate": true
        },
        {
          "type": "LOW_CONFIDENCE",
          "description": "No pattern match has sufficient confidence",
          "action": "CLASSIFY_UNKNOWN",
          "escalate": true
        }
      ],
      "escalationPolicy": {
        "target": "SHADOW_REVIEW_QUEUE",
        "default_decision": "REJECT",
        "timeout": "24_hours",
        "log_severity": "S3",
        "require_human_review": true
      },
      "coverage": {
        "audit": "ACA-1",
        "covered_space": "3.49%",
        "unknown_space": "96.51%",
        "note": "Majority of intent space is unknown but safely handled via escalation"
      },
      "enforcement": "BLOCKING",
      "exception": "NONE",
      "addedIn": "SEC-4"
    }
  },

  "principles": {
    "PRIN-001": { "name": "Determinism", "statement": "All safety layer behavior must be fully deterministic and reproducible", "inheritedFrom": "SEC-1" },
    "PRIN-002": { "name": "Transparency", "statement": "All verdicts must be fully explainable through causal attribution", "inheritedFrom": "SEC-1" },
    "PRIN-003": { "name": "Immutability", "statement": "Frozen components cannot be modified without full recertification", "inheritedFrom": "SEC-1" },
    "PRIN-004": { "name": "Fail-Safe", "statement": "On any uncertainty or error, default to rejection", "inheritedFrom": "SEC-1" },
    "PRIN-005": { "name": "Goodhart Resistance", "statement": "Metrics must not become targets that can be gamed separately from genuine safety", "inheritedFrom": "SEC-2" },
    "PRIN-006": { "name": "Redundant Verification", "statement": "No single point of verification failure may compromise safety", "inheritedFrom": "SEC-2" },
    "PRIN-007": { "name": "Semantic Stability", "statement": "The meaning of safety classifications must be stable under linguistic transformation", "inheritedFrom": "SEC-3" },
    "PRIN-008": { "name": "Historical Fidelity", "statement": "Safety behavior must remain faithful to original design intent across evolution", "inheritedFrom": "SEC-3" },
    "PRIN-009": {
      "name": "Epistemic Humility",
      "statement": "The system must acknowledge what it does not know and act conservatively",
      "constraints": ["unknown_detection", "uncertainty_quantification", "escalation_by_default"],
      "addedIn": "SEC-4"
    },
    "PRIN-010": {
      "name": "Coverage Awareness",
      "statement": "The system must track and report its coverage of the intent space",
      "constraints": ["coverage_auditing", "unknown_space_tracking", "growth_rate_monitoring"],
      "addedIn": "SEC-4"
    }
  },

  "pipeline": {
    "canonical_order": ["HCA-1", "PIL-1", "UID-1", "HIC-1"],
    "description": "Hostile Capability Analysis → Power Invariant Layer → Unknown Intent Detector → Hostile Intent Composition",
    "newLayer": {
      "id": "UID-1",
      "insertedAt": "SEC-4",
      "position": 2.5,
      "mode": "ENFORCING"
    }
  },

  "governance": {
    "decisionAuthority": {
      "certification": "CAMPAIGN_VALIDATION",
      "promotion": "GRADUATION_CRITERIA",
      "freeze": "TOPOLOGY_INVARIANCE_VERIFICATION",
      "oracleDisagreement": "SHADOW_REVIEW_BOARD",
      "anchorDeviation": "IMMEDIATE_ROLLBACK",
      "unknownIntent": "ESCALATE_AND_REJECT",
      "exception": "NOT_PERMITTED"
    },
    "auditTrail": {
      "required": true,
      "retention": "PERMANENT",
      "immutable": true,
      "oracleLogs": "REQUIRED",
      "anchorAlignmentLogs": "REQUIRED",
      "unknownIntentLogs": "REQUIRED"
    },
    "versionControl": {
      "required": true,
      "tagging": "SEMANTIC_VERSIONING",
      "rollbackCapability": true,
      "corpusVersioning": true
    }
  },

  "artifacts": {
    "invariants": "invariants/GLOBAL_SAFETY_INVARIANTS.json",
    "metaInvariants": "invariants/META_SAFETY_INVARIANTS.json",
    "semanticAnchors": "anchors/SEMANTIC_ANCHORS.json",
    "anchorDigests": "anchors/SEMANTIC_ANCHOR_DIGESTS.json",
    "anchorGate": "governance/SEMANTIC_ANCHOR_GATE.json",
    "regressionBudget": "governance/REGRESSION_BUDGET.json",
    "topologyFreeze": "topology/PIPELINE_TOPOLOGY_FREEZE_V2.json",
    "oracleSystem": "oracles/REDUNDANT_ORACLE_SYSTEM.json",
    "unknownIntentLayer": "layers/UID-1_UNKNOWN_INTENT_DETECTOR.json",
    "predecessorConstitution": "constitutions/SEC-3_SAFETY_EVOLUTION_CONSTITUTION.json",
    "parentConstitution": "constitutions/SMC-1_CONSTITUTION.json"
  },

  "validation": {
    "campaigns": [
      {"id": "SSC-3", "status": "PASSED", "validates": ["SHADOW_BEFORE_ENFORCE"]},
      {"id": "TIC-1", "status": "PASSED", "validates": ["ORDER_INVARIANCE"]},
      {"id": "TDS-1", "status": "PASSED", "validates": ["TEMPORAL_INVARIANCE_REQUIRED"]},
      {"id": "MAC-1", "status": "PASSED", "validates": ["META_INVARIANT_PRESERVATION"]},
      {"id": "SDC-1", "status": "PASSED", "validates": ["SEMANTIC_ANCHOR_PRESERVATION", "MEANING_IMMUTABILITY"]},
      {"id": "UIC-1", "status": "PASSED", "validates": ["UNKNOWN_INTENT_MUST_NOT_ADMIT"]},
      {"id": "ACA-1", "status": "PASSED", "validates": ["EPISTEMIC_UNCERTAINTY_ESCALATION"]}
    ]
  },

  "amendments": {
    "allowed": false,
    "note": "SEC-4 superseded by SEC-5. See SEC-5 for current bindings.",
    "frozen": true
  },

  "ratification": {
    "ratifiedBy": "Safety Governance Framework",
    "ratifiedAt": "2026-01-19T14:15:00.000Z",
    "validFrom": "2026-01-19T14:15:00.000Z",
    "validUntil": "2026-01-19T15:10:00.000Z",
    "supersedes": "SEC-3",
    "successorConstitution": "SEC-5"
  },

  "signatures": {
    "constitutionHash": "sha256:fce36308cd265238b5fb207a0643274df26ef33bc1e16c98fc1be1e9ec730f93"
  }
}
